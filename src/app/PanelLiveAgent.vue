<script setup lang="ts">
import TimeIcon from '@/icons/TimeIcon.vue';
import GlobalIcon from '@/icons/GlobalIcon.vue';
import { nextTick, ref } from 'vue';

const messages = ref([
  {
    role: 'admin',
    content: `
      You are now waiting in the queue. We will transfer you to the first available agent, if you don\'t want to wait any longer,
      you can also type "create a ticket" to open a ticket directly or type "live agent" to ask me another question.
    `
  },
  {
    role: 'user',
    content: 'End user Anne Lee has joined conversation.'
  },
  {
    role: 'admin',
    content: `
      Hi, Anne, Iâ€™m your live support agent.
      I see you've been having trouble with printer. Let's take a closer look together.
    `,
  },
]);

let currentAnswer = 0;
const input = ref('');

const answers = [
  `
    I'm sorry to hear you're experiencing this issue.
    To start, can you tell me which version of Outlook you are using,
    and if there have been any recent updates or changes to your system?
  `,
  `
    Okay. Uh, Carla, may I have the ticket number please?
  `,
  `
    Pending wordings put here. Pending wordings put here.
    Pending wordings put here. Pending wordings put here.
    Pending wordings put here.
  `
];

const isLoading = ref(false);
const container = ref<HTMLElement>();

function handleSend() {
  if (!input.value) {
    return;
  }

  messages.value.push({
    role: 'user',
    content: input.value,
  });

  input.value = '';

  const msg = {
    role: 'admin',
    content: answers[currentAnswer % answers.length],
  }

  messages.value.push(msg);
  isLoading.value = true;
  currentAnswer = currentAnswer + 1;

  nextTick(() => container.value?.scrollTo(0, container.value!.scrollHeight))

  setTimeout(() => {
    isLoading.value = false;
    nextTick(() => container.value?.scrollTo(0, container.value!.scrollHeight));
  }, 1000 + Math.random() * 2000);
}
</script>

<template>
  <section class="flex-auto flex flex-col h-full space-y-2 py-2 shrink-1 overflow-auto">
    <div class="flex-auto bg-white rounded w-full flex flex-col overflow-auto">
      <header class="h-10 border-b flex items-center px-2">
      <span class="text-lg">Live Agent</span>
      <span class="flex-auto"></span>
      <TimeIcon class="w-5 h-5"></TimeIcon>
      <span class="text-sm ml-2">
        00:04:00
      </span>

      <span class="flex items-center space-x-2 ml-2 rounded bg-primary-600 text-white px-2 py-0.5 cursor-pointer hover:bg-primary-700">
          <GlobalIcon></GlobalIcon>
          <span>English</span>
      </span>
      </header>

      <section class="flex-auto py-2 overflow-auto p-3 space-y-2 shrink-1 flex flex-col" ref="container">
        <p class="text-center text-sm text-light-500">9:58 pm</p>

        <div
          v-for="(message, index) in messages"
          :class="`
            flex space-x-2 max-w-full
            ${message.role === 'user' ? 'justify-start' : 'justify-end'}
          `"
        >
          <div class="w-8 shrink-0">
          <img
            v-if="message.role === 'user'"
            class="w-8 h-8 rounded-full"
            src="@/assets/avatar.jpeg"
            alt="chat-avatar"
          >
          </div>
          <div class="px-3 py-2 border-light-100 border rounded max-w-full">
            <span v-if="index === messages.length - 1 && isLoading">
              <div class="animate-pulse space-y-2 py-1 flex flex-col items-end">
                <div class="h-2 bg-light-200 rounded w-60"></div>
                <div class="h-2 bg-light-200 rounded w-60"></div>
                <div class="h-2 bg-light-200 rounded w-20"></div>
              </div>
            </span>
            <span v-else>{{ message.content }}</span>
          </div>
          <div class="w-8 shrink-0">
          <img
              v-if="message.role === 'admin'"
              class="w-8 h-8 rounded-full"
              src="@/assets/avatar-admin.svg"
              alt="chat-avatar"
          >
          </div>
        </div>
      </section>

      <footer class="h-[160px] border-t w-full flex flex-col">
      <div class="p-2 flex flex-row items-center space-x-2">
          <svg class="cursor-pointer hover:bg-light-50 rounded" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7.14296 7.99902C7.14296 8.22635 7.23326 8.44437 7.39401 8.60511C7.55475 8.76586 7.77277 8.85617 8.0001 8.85617C8.22743 8.85617 8.44545 8.76586 8.60619 8.60511C8.76694 8.44437 8.85724 8.22635 8.85724 7.99902C8.85724 7.7717 8.76694 7.55368 8.60619 7.39293C8.44545 7.23219 8.22743 7.14188 8.0001 7.14188C7.77277 7.14188 7.55475 7.23219 7.39401 7.39293C7.23326 7.55368 7.14296 7.7717 7.14296 7.99902ZM10.7144 7.99902C10.7144 8.22635 10.8047 8.44437 10.9654 8.60511C11.1262 8.76586 11.3442 8.85617 11.5715 8.85617C11.7989 8.85617 12.0169 8.76586 12.1776 8.60511C12.3384 8.44437 12.4287 8.22635 12.4287 7.99902C12.4287 7.7717 12.3384 7.55368 12.1776 7.39293C12.0169 7.23219 11.7989 7.14188 11.5715 7.14188C11.3442 7.14188 11.1262 7.23219 10.9654 7.39293C10.8047 7.55368 10.7144 7.7717 10.7144 7.99902ZM3.57153 7.99902C3.57153 8.22635 3.66184 8.44437 3.82258 8.60511C3.98333 8.76586 4.20134 8.85617 4.42867 8.85617C4.656 8.85617 4.87402 8.76586 5.03476 8.60511C5.19551 8.44437 5.28582 8.22635 5.28582 7.99902C5.28582 7.7717 5.19551 7.55368 5.03476 7.39293C4.87402 7.23219 4.656 7.14188 4.42867 7.14188C4.20134 7.14188 3.98333 7.23219 3.82258 7.39293C3.66184 7.55368 3.57153 7.7717 3.57153 7.99902ZM15.3787 4.89902C14.9751 3.94009 14.3965 3.07938 13.659 2.3401C12.9267 1.60509 12.0573 1.02085 11.1001 0.620452C10.118 0.207952 9.0751 -0.000976562 8.0001 -0.000976562H7.96439C6.88224 0.00438058 5.83403 0.218666 4.84832 0.640095C3.89931 1.0446 3.03807 1.62988 2.3126 2.36331C1.58224 3.10081 1.00903 3.95795 0.612601 4.91331C0.201887 5.9026 -0.00525583 6.95438 0.000101308 8.03652C0.00616068 9.27665 0.299551 10.4985 0.857244 11.6062V14.3205C0.857244 14.5383 0.943787 14.7472 1.09783 14.9013C1.25188 15.0553 1.46082 15.1419 1.67867 15.1419H4.39474C5.50241 15.6996 6.72426 15.993 7.96439 15.999H8.00189C9.07153 15.999 10.109 15.7919 11.0858 15.3865C12.0382 14.9909 12.9043 14.4135 13.6358 13.6865C14.3733 12.9562 14.9537 12.1026 15.359 11.1508C15.7805 10.1651 15.9947 9.11688 16.0001 8.03474C16.0055 6.94724 15.7947 5.89188 15.3787 4.89902ZM12.6805 12.7205C11.4287 13.9597 9.76796 14.6419 8.0001 14.6419H7.96974C6.89296 14.6365 5.82332 14.3687 4.87867 13.8651L4.72867 13.7847H2.21439V11.2705L2.13403 11.1205C1.63046 10.1758 1.3626 9.10617 1.35724 8.02938C1.3501 6.24902 2.03046 4.57759 3.27867 3.31867C4.5251 2.05974 6.19117 1.36331 7.97153 1.35617H8.00189C8.89474 1.35617 9.76081 1.52938 10.5769 1.87224C11.3733 2.20617 12.0876 2.68652 12.7019 3.30081C13.3144 3.91331 13.7965 4.62938 14.1305 5.42581C14.4769 6.25081 14.6501 7.12581 14.6465 8.02938C14.6358 9.80795 13.9376 11.474 12.6805 12.7205Z" fill="#0000A0"/>
          </svg>
          <svg class="cursor-pointer hover:bg-light-50 rounded" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M11.7728 1.37001C10.0907 -0.312137 7.35138 -0.312137 5.67103 1.37001L1.01031 6.02715C0.979955 6.05751 0.963884 6.09858 0.963884 6.14143C0.963884 6.18429 0.979955 6.22536 1.01031 6.25572L1.66924 6.91465C1.69936 6.94464 1.74013 6.96147 1.78263 6.96147C1.82514 6.96147 1.86591 6.94464 1.89603 6.91465L6.55674 2.25751C7.13531 1.67893 7.90496 1.36108 8.72281 1.36108C9.54067 1.36108 10.3103 1.67893 10.8871 2.25751C11.4657 2.83608 11.7835 3.60572 11.7835 4.42179C11.7835 5.23965 11.4657 6.00751 10.8871 6.58608L6.1371 11.3343L5.36746 12.1039C4.64781 12.8236 3.47817 12.8236 2.75853 12.1039C2.41031 11.7557 2.21924 11.2932 2.21924 10.8004C2.21924 10.3075 2.41031 9.84501 2.75853 9.49679L7.47103 4.78608C7.59067 4.66822 7.74781 4.60215 7.91567 4.60215H7.91746C8.08531 4.60215 8.24067 4.66822 8.35853 4.78608C8.47817 4.90572 8.54246 5.06286 8.54246 5.23072C8.54246 5.39679 8.47638 5.55393 8.35853 5.67179L4.50674 9.52001C4.47638 9.55036 4.46031 9.59143 4.46031 9.63429C4.46031 9.67715 4.47638 9.71822 4.50674 9.74858L5.16567 10.4075C5.19579 10.4375 5.23656 10.4543 5.27906 10.4543C5.32156 10.4543 5.36234 10.4375 5.39246 10.4075L9.24245 6.55751C9.59781 6.20215 9.79246 5.73072 9.79246 5.22893C9.79246 4.72715 9.59603 4.25393 9.24245 3.90036C8.50853 3.16643 7.31567 3.16822 6.58174 3.90036L6.1246 4.35929L1.87103 8.61108C1.58233 8.89808 1.35349 9.23954 1.19777 9.61566C1.04205 9.99178 0.96255 10.3951 0.963884 10.8021C0.963884 11.6289 1.2871 12.4057 1.87103 12.9896C2.47638 13.5932 3.26924 13.895 4.0621 13.895C4.85496 13.895 5.64781 13.5932 6.25138 12.9896L11.7728 7.47179C12.5853 6.65751 13.0353 5.57358 13.0353 4.42179C13.0371 3.26822 12.5871 2.18429 11.7728 1.37001Z" fill="#0000A0"/>
          </svg>
          <svg class="cursor-pointer hover:bg-light-50 rounded" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M1.35714 2.21554H11.7857V5.14411H13.1429V1.42983C13.1429 1.11376 12.8875 0.858398 12.5714 0.858398H0.571429C0.255357 0.858398 0 1.11376 0 1.42983V14.5727C0 14.8888 0.255357 15.1441 0.571429 15.1441H10.2857V13.787H1.35714V2.21554Z" fill="#A3A3A3"/>
          <path d="M6.25538 3.42115H5.17324C5.11253 3.42115 5.05896 3.46043 5.03753 3.51758L2.76788 10.089C2.76253 10.1033 2.76074 10.1194 2.76074 10.1354C2.76074 10.214 2.82503 10.2783 2.9036 10.2783H3.88753C3.94824 10.2783 4.00181 10.239 4.02324 10.1819L4.60717 8.49258H8.11074L6.39288 3.51758C6.38216 3.48965 6.36335 3.46555 6.33885 3.44837C6.31436 3.4312 6.2853 3.42172 6.25538 3.42115ZM6.47681 7.49258H4.95003L5.71431 5.28186L6.47681 7.49258ZM15.5715 8.27829H13.1429V6.61758C13.1429 6.539 13.0786 6.47472 13 6.47472H12C11.9215 6.47472 11.8572 6.539 11.8572 6.61758V8.27829H9.4286C9.1911 8.27829 9.00003 8.46936 9.00003 8.70686V11.8497C9.00003 12.0872 9.1911 12.2783 9.4286 12.2783H11.8572V14.9926C11.8572 15.0711 11.9215 15.1354 12 15.1354H13C13.0786 15.1354 13.1429 15.0711 13.1429 14.9926V12.2783H15.5715C15.809 12.2783 16 12.0872 16 11.8497V8.70686C16 8.46936 15.809 8.27829 15.5715 8.27829ZM11.8572 10.9926H10.2857V9.564H11.8572V10.9926ZM14.7143 10.9926H13.1429V9.564H14.7143V10.9926Z" fill="#A3A3A3"/>
          </svg>
          <svg class="cursor-pointer hover:bg-light-50 rounded" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M8.42992 3.73005H7.57099C7.49242 3.73005 7.42813 3.79434 7.42813 3.87291V8.78898C7.42813 8.83541 7.44956 8.87827 7.48706 8.90505L10.4388 11.0604C10.5031 11.1068 10.5924 11.0943 10.6388 11.0301L11.1496 10.3336C11.1978 10.2676 11.1835 10.1783 11.1192 10.1336L8.57277 8.29255V3.87291C8.57277 3.79434 8.50849 3.73005 8.42992 3.73005ZM12.3549 5.07291L15.1549 5.75684C15.2442 5.77827 15.3317 5.71041 15.3317 5.61934L15.346 2.73541C15.346 2.61577 15.2085 2.54791 15.1156 2.62291L12.3013 4.82112C12.2801 4.83758 12.2639 4.8597 12.2546 4.88495C12.2454 4.9102 12.2434 4.93755 12.249 4.96385C12.2546 4.99015 12.2675 5.01434 12.2863 5.03363C12.305 5.05293 12.3288 5.06654 12.3549 5.07291ZM15.3496 10.4497L14.3371 10.1015C14.3018 10.0894 14.2631 10.0916 14.2294 10.1076C14.1957 10.1236 14.1696 10.1522 14.1567 10.1872C14.1228 10.2783 14.0871 10.3676 14.0496 10.4568C13.7317 11.2086 13.2763 11.8854 12.6942 12.4658C12.1185 13.0432 11.4363 13.5035 10.6853 13.8211C9.90729 14.1501 9.07101 14.3189 8.22635 14.3176C7.37277 14.3176 6.54599 14.1515 5.76742 13.8211C5.01642 13.5035 4.33417 13.0432 3.75849 12.4658C3.17813 11.8854 2.72277 11.2086 2.40313 10.4568C2.07602 9.67842 1.90842 8.84227 1.91027 7.99791C1.91027 7.14434 2.07635 6.31577 2.4067 5.5372C2.72456 4.78541 3.17992 4.10862 3.76206 3.52827C4.33774 2.9508 5.01999 2.49051 5.77099 2.17291C6.54599 1.84255 7.37456 1.67648 8.22813 1.67648C9.0817 1.67648 9.90849 1.84255 10.6871 2.17291C11.4381 2.49051 12.1203 2.9508 12.696 3.52827C12.8781 3.7122 13.0496 3.90327 13.2067 4.10505L14.2746 3.26934C12.8692 1.47291 10.6817 0.317552 8.22456 0.319338C3.94599 0.321124 0.510274 3.79612 0.553131 8.07648C0.595988 12.2818 4.01563 15.6765 8.22813 15.6765C11.5406 15.6765 14.3621 13.5765 15.4371 10.6354C15.4638 10.5604 15.4246 10.4765 15.3496 10.4497Z" fill="#0000A0"/>
          </svg>
          <svg class="cursor-pointer hover:bg-light-50 rounded" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M15.6073 7.04679L15.0787 1.46465C15.0519 1.17536 14.8216 0.946791 14.5323 0.91822L8.95016 0.389648H8.94302C8.88587 0.389648 8.84123 0.407506 8.8073 0.441434L0.4448 8.80394C0.428246 8.82046 0.415112 8.84008 0.406152 8.86168C0.397191 8.88328 0.392578 8.90644 0.392578 8.92983C0.392578 8.95322 0.397191 8.97637 0.406152 8.99798C0.415112 9.01958 0.428246 9.0392 0.4448 9.05572L6.94123 15.5522C6.97516 15.5861 7.0198 15.6039 7.06802 15.6039C7.11623 15.6039 7.16087 15.5861 7.1948 15.5522L15.5573 7.18965C15.593 7.15215 15.6109 7.10036 15.6073 7.04679ZM7.06623 13.7593L2.23766 8.93072L9.37516 1.79322L13.7859 2.21108L14.2037 6.62179L7.06623 13.7593ZM11.0002 3.42536C10.1341 3.42536 9.42873 4.13072 9.42873 4.99679C9.42873 5.86286 10.1341 6.56822 11.0002 6.56822C11.8662 6.56822 12.5716 5.86286 12.5716 4.99679C12.5716 4.13072 11.8662 3.42536 11.0002 3.42536ZM11.0002 5.56822C10.6841 5.56822 10.4287 5.31286 10.4287 4.99679C10.4287 4.68072 10.6841 4.42536 11.0002 4.42536C11.3162 4.42536 11.5716 4.68072 11.5716 4.99679C11.5716 5.31286 11.3162 5.56822 11.0002 5.56822Z" fill="#0000A0"/>
          </svg>
          <svg class="cursor-pointer hover:bg-light-50 rounded" width="14" height="12" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M13.25 0.999023H4.125C4.05625 0.999023 4 1.05527 4 1.12402V1.99902C4 2.06777 4.05625 2.12402 4.125 2.12402H13.25C13.3188 2.12402 13.375 2.06777 13.375 1.99902V1.12402C13.375 1.05527 13.3188 0.999023 13.25 0.999023ZM0.75 5.43652H9.875C9.94375 5.43652 10 5.49277 10 5.56152V6.43652C10 6.50527 9.94375 6.56152 9.875 6.56152H0.75C0.68125 6.56152 0.625 6.50527 0.625 6.43652V5.56152C0.625 5.49277 0.68125 5.43652 0.75 5.43652ZM13.25 9.87402H4.125C4.05625 9.87402 4 9.93027 4 9.99902V10.874C4 10.9428 4.05625 10.999 4.125 10.999H13.25C13.3188 10.999 13.375 10.9428 13.375 10.874V9.99902C13.375 9.93027 13.3188 9.87402 13.25 9.87402ZM0.625 1.56152C0.625 1.67643 0.647633 1.79021 0.691605 1.89637C0.735578 2.00253 0.80003 2.09899 0.881282 2.18024C0.962533 2.26149 1.05899 2.32595 1.16515 2.36992C1.27131 2.41389 1.38509 2.43652 1.5 2.43652C1.61491 2.43652 1.72869 2.41389 1.83485 2.36992C1.94101 2.32595 2.03747 2.26149 2.11872 2.18024C2.19997 2.09899 2.26442 2.00253 2.30839 1.89637C2.35237 1.79021 2.375 1.67643 2.375 1.56152C2.375 1.44662 2.35237 1.33284 2.30839 1.22668C2.26442 1.12052 2.19997 1.02406 2.11872 0.942805C2.03747 0.861554 1.94101 0.797102 1.83485 0.753129C1.72869 0.709156 1.61491 0.686523 1.5 0.686523C1.38509 0.686523 1.27131 0.709156 1.16515 0.753129C1.05899 0.797102 0.962533 0.861554 0.881282 0.942805C0.80003 1.02406 0.735578 1.12052 0.691605 1.22668C0.647633 1.33284 0.625 1.44662 0.625 1.56152ZM13.375 5.99902C13.375 6.11393 13.3524 6.22771 13.3084 6.33387C13.2644 6.44003 13.2 6.53649 13.1187 6.61774C13.0375 6.69899 12.941 6.76344 12.8348 6.80742C12.7287 6.85139 12.6149 6.87402 12.5 6.87402C12.3851 6.87402 12.2713 6.85139 12.1652 6.80742C12.059 6.76344 11.9625 6.69899 11.8813 6.61774C11.8 6.53649 11.7356 6.44003 11.6916 6.33387C11.6476 6.22771 11.625 6.11393 11.625 5.99902C11.625 5.88412 11.6476 5.77034 11.6916 5.66418C11.7356 5.55802 11.8 5.46156 11.8813 5.3803C11.9625 5.29905 12.059 5.2346 12.1652 5.19063C12.2713 5.14666 12.3851 5.12402 12.5 5.12402C12.6149 5.12402 12.7287 5.14666 12.8348 5.19063C12.941 5.2346 13.0375 5.29905 13.1187 5.3803C13.2 5.46156 13.2644 5.55802 13.3084 5.66418C13.3524 5.77034 13.375 5.88412 13.375 5.99902ZM0.625 10.4365C0.625 10.5514 0.647633 10.6652 0.691605 10.7714C0.735578 10.8775 0.80003 10.974 0.881282 11.0552C0.962533 11.1365 1.05899 11.2009 1.16515 11.2449C1.27131 11.2889 1.38509 11.3115 1.5 11.3115C1.61491 11.3115 1.72869 11.2889 1.83485 11.2449C1.94101 11.2009 2.03747 11.1365 2.11872 11.0552C2.19997 10.974 2.26442 10.8775 2.30839 10.7714C2.35237 10.6652 2.375 10.5514 2.375 10.4365C2.375 10.3216 2.35237 10.2078 2.30839 10.1017C2.26442 9.99551 2.19997 9.89906 2.11872 9.81781C2.03747 9.73655 1.94101 9.6721 1.83485 9.62813C1.72869 9.58416 1.61491 9.56152 1.5 9.56152C1.38509 9.56152 1.27131 9.58416 1.16515 9.62813C1.05899 9.6721 0.962533 9.73655 0.881282 9.81781C0.80003 9.89906 0.735578 9.99551 0.691605 10.1017C0.647633 10.2078 0.625 10.3216 0.625 10.4365Z" fill="#0000A0"/>
          </svg>
          <svg class="cursor-pointer hover:bg-light-50 rounded" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M5.71429 6.92491V11.1421C5.71429 11.6569 5.84058 12.1415 6.06001 12.5706H8.91658C9.32115 12.5706 9.71429 12.1632 9.71429 11.7969V6.29691L9.55372 6.28491H6.35429C6.00058 6.28491 5.71429 6.5712 5.71429 6.92491Z" fill="black"/>
          <path d="M9.04759 4.57056H7.34702C7.59044 5.33513 8.29787 5.89227 9.14302 5.89227C9.34359 5.89227 9.53273 5.85284 9.71444 5.79513V5.23741C9.71444 4.87056 9.41444 4.57056 9.04759 4.57056Z" fill="black"/>
          <path d="M14.2131 6.28467H11.36L10.5634 6.92867V10.1224C10.5634 11.3081 11.5245 12.2692 12.7102 12.2692C13.896 12.2692 14.8571 11.3081 14.8571 10.1224V6.92867C14.8571 6.57324 14.5685 6.28467 14.2131 6.28467Z" fill="#5059C9"/>
          <path d="M14.2857 4.28477C14.2857 5.07392 13.6463 5.71334 12.8571 5.71334C12.068 5.71334 11.4286 5.07392 11.4286 4.28477C11.4286 3.49563 12.068 2.8562 12.8571 2.8562C13.6463 2.8562 14.2857 3.49563 14.2857 4.28477Z" fill="#5059C9"/>
          <path d="M6.35429 6.28467H11.36C11.7137 6.28467 12 6.57095 12 6.92467V11.1418C12 12.8778 10.5932 14.2847 8.85715 14.2847C7.12115 14.2847 5.71429 12.8778 5.71429 11.1418V6.92467C5.71429 6.57095 6.00058 6.28467 6.35429 6.28467Z" fill="#7B83EB"/>
          <path d="M11.0362 3.9991C11.0362 5.04481 10.1888 5.89224 9.14307 5.89224C8.09736 5.89224 7.24936 5.04481 7.24936 3.9991C7.24936 2.95339 8.09736 2.10596 9.14307 2.10596C10.1888 2.10596 11.0362 2.95339 11.0362 3.9991Z" fill="#7B83EB"/>
          <path opacity="0.5" fill-rule="evenodd" clip-rule="evenodd" d="M7.34704 4.57056H9.04761C9.41447 4.57056 9.71447 4.87056 9.71447 5.23741V5.79513C9.53275 5.85284 9.34361 5.89227 9.14304 5.89227C8.29789 5.89227 7.59047 5.33513 7.34704 4.57056ZM5.71429 11.142V6.9249C5.71429 6.57118 6.00058 6.2849 6.35429 6.2849H9.55372L9.71429 6.2969V11.7969C9.71429 12.1632 9.32115 12.5706 8.91658 12.5706H6.06001C5.84058 12.1415 5.71429 11.6569 5.71429 11.142Z" fill="black"/>
          <path d="M8.47624 11.999H1.80938C1.4431 11.999 1.1431 11.699 1.1431 11.3322V4.66588C1.1431 4.29902 1.4431 3.99902 1.80938 3.99902H8.47624C8.8431 3.99902 9.1431 4.29902 9.1431 4.66588V11.3322C9.1431 11.699 8.8431 11.999 8.47624 11.999Z" fill="#4B53BC"/>
          <path d="M6.96033 6.61485H5.59518V10.2846H4.69804V6.61485H3.32547V5.71313H6.96033V6.61485Z" fill="white"/>
          </svg>
          <div class="w-[1px] h-3 bg-primary-600"></div>
          <span class="cursor-pointer hover:brightness-95 text-link-700 bg-info-50 border border-info-500 rounded-full px-2 py-0.5 text-xs">
          New Call
          </span>

          <div class="flex-auto"></div>

          <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="0.5" y="-0.000976562" width="16" height="16" rx="2" fill="white"/>
            <rect x="0.5" y="-0.000976562" width="16" height="16" rx="2" fill="#1890FF"/>
            <path d="M7.60536 12.6031L7.58774 12.6207L3.1879 8.22087L4.62057 6.78819L7.60542 9.77304L12.3794 4.99902L13.8121 6.4317L7.62304 12.6208L7.60536 12.6031Z" fill="white"/>
          </svg>
          <span class="text-sm">Enable Agent Copilot</span>
      </div>
      <div class="pb-2 px-2 flex-auto">
        <textarea
          v-model.trim="input"
          class="rounded border w-full h-full outline-none px-3 py-2"
          @keypress.enter.prevent="handleSend()"
        ></textarea>
      </div>

      <div class="flex justify-end px-2 pb-2 items-end">
        <span class="text-light-300 text-sm">Press Enter to send and Shift + Enter to line feed</span>
        <span
          @click="handleSend"
          class="flex items-center space-x-2 ml-2 rounded bg-primary-600 text-white px-2 py-0.5 cursor-pointer hover:bg-primary-700"
        >
          <span class="text-[15px]">Send</span>
        </span>
      </div>
      </footer>
    </div>
  </section>
</template>
